<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="shortcut icon" href="../assets/ico.svg"/>
<link rel="stylesheet" href="../assets/fonts/fonts.css"/>

<!-- ....................................................................... -->
<link rel="stylesheet" href="../gsui.css"/>
<link rel="stylesheet" href="../gsui-gray.css"/>
<link rel="stylesheet" href="../gsui-white.css"/>
<link rel="stylesheet" href="../gsui-flex.css"/>
<link rel="stylesheet" href="../test-assets/test.css"/>

<!-- ....................................................................... -->
<link rel="stylesheet" href="../gsuiIcon/gsuiIcon.css"/>
<link rel="stylesheet" href="../gsuiRipple/gsuiRipple.css"/>
<link rel="stylesheet" href="../gsuiComButton/gsuiComButton.css"/>
<link rel="stylesheet" href="../gsuiDropdown/gsuiDropdown.css"/>

<!-- ....................................................................... -->
<link rel="stylesheet" href="gsuiActionMenu.css"/>

<!-- ....................................................................... -->
<style>
body {
	--test-content-w: 400px;
	--test-content-h: 200px;
}
#testContent,
#testWrap {
	overflow: visible;
}
#testWrap {
	display: flex;
	flex-direction: column;
	gap: 16px;
	align-items: start;
}
.btnLines {
	display: flex;
	gap: 16px;
}
.btnWrap {
	display: flex;
	position: relative;
}
</style>
</head>
<body>

<!-- ....................................................................... -->
<div id="TEST">
	<div class="btnLines">
		<span class="btnWrap"><gsui-com-button id="btn-bottom-right" text="bottom right"></gsui-com-button></span>
		<span class="btnWrap"><gsui-com-button id="btn-bottom" text="bottom"></gsui-com-button></span>
		<span class="btnWrap"><gsui-com-button id="btn-bottom-left" text="bottom left"></gsui-com-button></span>
	</div>
	<div class="btnLines">
		<span class="btnWrap"><gsui-com-button id="btn-top-right" text="top right"></gsui-com-button></span>
		<span class="btnWrap"><gsui-com-button id="btn-top" text="top"></gsui-com-button></span>
		<span class="btnWrap"><gsui-com-button id="btn-top-left" text="top left"></gsui-com-button></span>
	</div>
</div>
<div id="TEST-CTRLS">
</div>

<!-- ....................................................................... -->
<script src="../gs-utils/gs-utils.js"></script>
<script src="../gs-utils/gs-utils-dom.js"></script>
<script src="../gs-utils/gs-utils-math.js"></script>
<script src="../gs-utils/gs-utils-func.js"></script>
<script src="../gs-utils/gs-utils-checkType.dev.js"></script>
<script src="../test-assets/test.js"></script>
<script src="../gsui-constantes.js"></script>
<script src="../gsui0ne/gsui0ne.js"></script>

<!-- ....................................................................... -->
<script src="../gsuiRipple/gsuiRipple.js"></script>
<script src="../gsuiComButton/gsuiComButton.js"></script>
<script src="../gsuiDropdown/gsuiDropdown.js"></script>
<script src="../gsuiDropdown/getAbsPos.js"></script>

<!-- ....................................................................... -->
<script src="gsuiActionMenu.js"></script>

<!-- ....................................................................... -->
<script>
const btnBottom = GSUdomQS( "#btn-bottom" );
const btnBottomLeft = GSUdomQS( "#btn-bottom-left" );
const btnBottomRight = GSUdomQS( "#btn-bottom-right" );
const btnTop = GSUdomQS( "#btn-top" );
const btnTopLeft = GSUdomQS( "#btn-top-left" );
const btnTopRight = GSUdomQS( "#btn-top-right" );
const par = GSUdomQS( "#menu-parent" );
const actionMenuBottom = new gsuiActionMenu();
const actionMenuBottomLeft = new gsuiActionMenu();
const actionMenuBottomRight = new gsuiActionMenu();
const actionMenuTop = new gsuiActionMenu();
const actionMenuTopLeft = new gsuiActionMenu();
const actionMenuTopRight = new gsuiActionMenu();

const act1 = {
	id: "a00",
	icon: "triangle",
	name: "Lorem ipsum",
};
const act2 = {
	id: "a01",
	icon: "diamond",
	name: "Dolor sit amet",
	desc: "This is a description under the name",
};
const act3 = {
	id: "a02",
	icon: "hexagon",
	name: "Consectetur adipiscing elit",
	desc: "This is a super very long description also under the name it should appear on multiple lines",
};

initActionMenu( btnBottom,      actionMenuBottom,      "B"  );
initActionMenu( btnBottomLeft,  actionMenuBottomLeft,  "BL" );
initActionMenu( btnBottomRight, actionMenuBottomRight, "BR" );
initActionMenu( btnTop,         actionMenuTop,         "T"  );
initActionMenu( btnTopLeft,     actionMenuTopLeft,     "TL" );
initActionMenu( btnTopRight,    actionMenuTopRight,    "TR" );

// btnTop.click();
// btnBottom.click();

function initActionMenu( btn, menu, dir ) {
	menu.$setMinSize( "260px", "260px" );
	menu.$setMaxSize( "300px", "300px" );
	menu.$closeAfterClick( false );
	menu.$bindTargetElement( btn );
	menu.$setDirection( dir );
	menu.$setMenuParent( btn.parentNode );
	menu.$setCallback( actionMenuClick );
	menu.$setActions( [
		act1, act2, act3,
		act1, act2, act3,
		act1, act2, act3,
		act1, act2, act3,
		act1, act2, act3,
		act1, act2, act3,
	] );
}

function actionMenuClick( act ) {
	console.log( "actionMenuClick", act );
}
</script>
</body>
</html>
