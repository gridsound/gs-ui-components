<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1"/>
<link rel="shortcut icon" href="../assets/favicon.png"/>
<link rel="stylesheet" href="../assets/fonts/fonts.css"/>

<!-- ....................................................................... -->
<link rel="stylesheet" href="../gsui.css"/>
<link rel="stylesheet" href="../gsui-flex.css"/>
<link rel="stylesheet" href="../test-assets/test.css"/>

<!-- ....................................................................... -->
<link rel="stylesheet" href="gsuiBeatlines.css"/>

<!-- ....................................................................... -->
<style>
body {
	--test-content-w: 460px;
	--test-content-h: 320px;
}
</style>
</head>
<body>

<!-- ....................................................................... -->
<div id="TEST">
	<gsui-beatlines timedivision="4/4" pxperbeat="28" coloredbeats></gsui-beatlines>
</div>
<div id="TEST-CTRLS">
	<div>
		<button id="vertical">toggle vertical</button>
	</div>
	<div>
		<button id="coloredbeats">toggle coloredBeats</button>
	</div>
	<div>
		<input id="pxPerBeat" type="range" value="28" min="1" max="200" step="1"/>
		<b>28</b>
		<span>pxPerBeat</span>
	</div>
	<div>
		<input id="beatsPerMeasure" type="range" value="4" min="1" max="16" step="1"/>
		<b>4</b>
		<span>beatsPerMeasure</span>
	</div>
	<div>
		<input id="stepsPerBeat" type="range" value="4" min="1" max="16" step="1"/>
		<b>4</b>
		<span>stepsPerBeat</span>
	</div>
</div>

<!-- ....................................................................... -->
<script src="../gs-utils/gs-utils.js"></script>
<script src="../gs-utils/gs-utils-dom.js"></script>
<script src="../gs-utils/gs-utils-math.js"></script>
<script src="../gs-utils/gs-utils-func.js"></script>
<script src="../gs-utils/gs-utils-checkType.dev.js"></script>
<script src="../test-assets/test.js"></script>
<script src="../gsui0ne/gsui0ne.js"></script>

<!-- ....................................................................... -->
<script src="gsuiBeatlines.html.js"></script>
<script src="gsuiBeatlines.js"></script>

<!-- ....................................................................... -->
<script>
const uiBeatlines = GSUdomQS( "gsui-beatlines" );
const btnVerti = GSUdomQS( "#vertical" );
const btnColor = GSUdomQS( "#coloredbeats" );
const inputPPB = GSUdomQS( "#pxPerBeat" );
const inputBPM = GSUdomQS( "#beatsPerMeasure" );
const inputSPB = GSUdomQS( "#stepsPerBeat" );

btnColor.onclick = () => GSUdomTogAttr( uiBeatlines, "coloredbeats" );
btnVerti.onclick = () => GSUdomTogAttr( uiBeatlines, "vertical" );

inputPPB.oninput =
inputBPM.oninput =
inputSPB.oninput = e => {
	e.target.nextElementSibling.textContent = e.target.value;
	GSUdomSetAttr( uiBeatlines, "pxperbeat", inputPPB.value );
	GSUdomSetAttr( uiBeatlines, "timedivision", `${ inputBPM.value }/${ inputSPB.value }` );
};
</script>
</body>
</html>
